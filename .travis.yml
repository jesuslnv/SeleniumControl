language: java
dist: trusty
# specifying other dists doesn't make sense because `trusty` doesn't have `oraclejdk8` (fails due to `Sorry, but JDK '[oraclejdk8]' is not known.`) which is the only supported JDK currently. Testing on Mac OSX doesn't make too much sense since it will run the same `maven` based build routine.

jdk:
  - oraclejdk12
  - openjdk12

script:
  - mvn clean -U package
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=jesuslnv_SeleniumControl

addons:
  sonarcloud:
    organization: "seleniumcontrol"
    token:
      secure: "90a4d8d47a8ab4453f5da7efb9c932844a660dca"
    branches:
      - master